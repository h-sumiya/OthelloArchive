(function(){"use strict";let a,o=null;function l(){return(o===null||o.byteLength===0)&&(o=new Int32Array(a.memory.buffer)),o}const f=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&f.decode();let s=null;function y(){return(s===null||s.byteLength===0)&&(s=new Uint8Array(a.memory.buffer)),s}function _(e,t){return e=e>>>0,f.decode(y().subarray(e,e+t))}function b(){let e,t;try{const c=a.__wbindgen_add_to_stack_pointer(-16);a.version(c);var n=l()[c/4+0],r=l()[c/4+1];return e=n,t=r,_(n,r)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(e,t,1)}}let i=null;function w(){return(i===null||i.byteLength===0)&&(i=new Uint32Array(a.memory.buffer)),i}let u=0;function g(e,t){const n=t(e.length*4,4)>>>0;return w().set(e,n/4),u=e.length,n}function m(e,t){const n=g(e,a.__wbindgen_malloc),r=u;return a.ai(n,r,t)>>>0}async function h(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function p(){const e={};return e.wbg={},e}function A(e,t){return a=e.exports,d.__wbindgen_wasm_module=t,o=null,i=null,s=null,a}async function d(e){if(a!==void 0)return a;typeof e>"u"&&(e=new URL(""+new URL("webai_bg-9ee3a7ad.wasm",self.location.href).href,self.location));const t=p();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await h(await e,t);return A(n,r)}let M=(async()=>{await d();const e=b();console.log(`othello ai web edition(${e}) is successfully loaded.`),self.postMessage({loaded:!0})})();self.onmessage=async e=>{await M;const{data:t,color:n}=e.data,r=m(t,n);self.postMessage(r)}})();
